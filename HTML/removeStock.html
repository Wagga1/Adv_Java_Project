<!DOCTYPE html>
<html>
<head>
<title>Remove Stock</title>
</head>
<body>

<h1>Remove Stock</h1>
<p>Use this to remove stock from your portfolio</p>
<! –– <form action="http://136.34.236.246:8091/removestock?name=" + name + "&qty=" + qty" method="get" target="hiddenFrame">
<form id="myForm" onsubmit="return renderMe()">

  <label for="fname">Stock:</label>
  <input type="text" id="name" name="name"><br><br>
  <label for="lname">Quantity:</label>
  <input type="text" id="qty" name="qty"><br><br>
  <input onclick="window.location.href = './index.html';" type="submit" value="Submit" /> 
  <!--<input type="submit" value="Submit" /> -->
</form>

<br><a href="http://investments.combsmanor.com/index.html"> Back to the Menu</a></br>



<script>
async function fetchMe() {
  var form = new FormData(document.getElementById("myForm"));
  var data = new URLSearchParams(form).toString();
  try {
    const response = await fetch("http://136.34.236.246:8091/removestock?" + data, {
      method:"GET",
      headers: {
        "Content-Type": "text/plain",
      },
    })
    const resp = await response.text();
    if (resp.includes("error")) { return "Please verify the data you entered.";}
    return resp;
  } catch (error) {
      console.error(error);
  }
}
  
async function renderMe() {
  const resp = await fetchMe();
  console.log(resp);
  alert(resp);
}

function alertMe(msg) {
  alert(msg);
}

</script>

<script>
//document.getElementById("myForm").addEventListener("submit", myFunction);

function myFunction() {
  alert("The form was submitted.");
}
var data = new FormData(document.getElementById("myForm"));   /////  <------THIS
//fetch("SERVER-SCRIPT", { method: "post", body: data });

</script>


</body>
</html>